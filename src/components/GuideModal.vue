<script setup lang="ts">
defineProps<{
  show: boolean
}>()

const emit = defineEmits(['close'])
</script>

<template>
  <Transition
    enter-active-class="transition duration-300 ease-out"
    enter-from-class="opacity-0 scale-95"
    enter-to-class="opacity-100 scale-100"
    leave-active-class="transition duration-200 ease-in"
    leave-from-class="opacity-100 scale-100"
    leave-to-class="opacity-0 scale-95"
  >
    <div 
      v-if="show" 
      class="fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm px-4" 
      @click="emit('close')"
    >
      <!-- Outer Container -->
      <div 
        class="bg-white dark:bg-gray-900 w-full max-w-md max-h-[80vh] rounded-2xl shadow-2xl border-4 border-black dark:border-gray-700 relative flex flex-col overflow-hidden" 
        @click.stop
      >
        <!-- Close Button -->
        <button 
          class="absolute top-4 right-4 w-8 h-8 flex items-center justify-center bg-black text-white rounded-full hover:bg-[#e4007f] transition-colors z-20"
          @click="emit('close')"
        >
          <div class="i-carbon-close text-xl" />
        </button>

        <!-- Scrollable Content -->
        <div class="overflow-y-auto flex-1 p-6 flex flex-col gap-6 scrollbar-hide">
          
          <!-- Sticker Area -->
          <div class="w-full flex items-center justify-center shrink-0 pt-4">
             <img 
               src="/cana2.webp" 
               class="h-32 object-contain animate-wobble-slow"
               alt="Sticker"
             />
          </div>

          <!-- Title -->
          <div class="text-center shrink-0">
            <h2 class="text-2xl font-bold text-black dark:text-white mb-1" style="font-family: 'Noto Serif SC', serif;">
              é£Ÿç”¨æŒ‡å—
            </h2>
            <div class="w-12 h-1 bg-[#e4007f] mx-auto rounded-full" />
          </div>

          <!-- Sections -->
          <div class="space-y-4 text-sm text-gray-700 dark:text-gray-300 font-medium">
            
            <div class="flex gap-3 items-start">
              <div class="w-6 h-6 rounded-full bg-black text-white flex-shrink-0 flex items-center justify-center font-bold text-xs mt-0.5">1</div>
              <div>
                <h3 class="font-bold text-black dark:text-white mb-1">åˆ‡æ¢æ¨¡æ¿</h3>
                <p>ç‚¹å‡»ä¸‹æ–¹çš„â€œå½“å‰æ¨¡æ¿â€æŒ‰é’®ï¼Œå¯ä»¥åˆ‡æ¢ä¸åŒçš„æ ¼å­å¸ƒå±€ï¼ˆå¦‚ 5x3, CPé—®å·ç­‰ï¼‰ã€‚</p>
              </div>
            </div>

            <div class="flex gap-3 items-start">
              <div class="w-6 h-6 rounded-full bg-black text-white flex-shrink-0 flex items-center justify-center font-bold text-xs mt-0.5">2</div>
              <div>
                <h3 class="font-bold text-black dark:text-white mb-1">ä¸Šä¼ å›¾ç‰‡</h3>
                <p>ç‚¹å‡»ä»»æ„æ ¼å­ï¼Œå¯ä»¥ç›´æ¥æœç´¢ Bangumi è§’è‰²ï¼Œæˆ–è€…ä¸Šä¼ æœ¬åœ°å›¾ç‰‡ï¼ˆæ”¯æŒè‡ªå®šä¹‰è€å©†/è€å…¬ï¼‰ã€‚</p>
              </div>
            </div>

            <div class="flex gap-3 items-start">
              <div class="w-6 h-6 rounded-full bg-black text-white flex-shrink-0 flex items-center justify-center font-bold text-xs mt-0.5">3</div>
              <div>
                <h3 class="font-bold text-black dark:text-white mb-1">ä¿®æ”¹æ ‡é¢˜</h3>
                <p>ç‚¹å‡»å›¾ç‰‡æœ€ä¸Šæ–¹çš„æ ‡é¢˜æ–‡å­—ï¼Œå¯ä»¥è‡ªå®šä¹‰ä¿®æ”¹æˆä½ å–œæ¬¢çš„æ ‡é¢˜ã€‚</p>
              </div>
            </div>

            <div class="flex gap-3 items-start">
              <div class="w-6 h-6 rounded-full bg-black text-white flex-shrink-0 flex items-center justify-center font-bold text-xs mt-0.5">4</div>
              <div>
                <h3 class="font-bold text-black dark:text-white mb-1">ä¿å­˜åˆ†äº«</h3>
                <p>ç‚¹å‡»â€œä¿å­˜é«˜æ¸…å›¾ç‰‡â€ï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆå¸¦æ°´å°çš„é«˜æ¸…å¤§å›¾ã€‚è¯·å¤§æ–¹åœ°å±•ç¤ºä½ çš„å“å‘³å§ï¼</p>
              </div>
            </div>

            <div class="flex gap-3 items-start">
              <div class="w-6 h-6 rounded-full bg-black text-white flex-shrink-0 flex items-center justify-center font-bold text-xs mt-0.5">5</div>
              <div>
                <h3 class="font-bold text-black dark:text-white mb-1">è§†é¢‘å¯¼å‡ºç–‘éš¾è§£ç­” (Beta)</h3>
                <div class="space-y-2">
                    <p>è§†é¢‘å¯¼å‡ºåŠŸèƒ½ç›®å‰å¤„äºæµ‹è¯•é˜¶æ®µï¼Œä¸ºäº†è·å¾—æœ€ä½³ä½“éªŒï¼Œæˆ‘ä»¬<strong>å¼ºçƒˆæ¨è</strong>ä½¿ç”¨ä»¥ä¸‹ç¯å¢ƒï¼š</p>
                    <ul class="list-disc list-inside pl-1 text-xs space-y-1 text-gray-800 dark:text-gray-300">
                        <li><b class="text-[#e4007f]">Windows ç”µè„‘ + Chrome æµè§ˆå™¨</b> (æ¨è)</li>
                        <li><b class="text-[#e4007f]">iOS + Chrome æµè§ˆå™¨</b> (å®Œç¾æ”¯æŒ)</li>
                    </ul>

                    <div class="bg-gray-50 dark:bg-gray-800 p-2 rounded border border-gray-100 dark:border-gray-700">
                        <p class="font-bold text-xs text-gray-900 dark:text-gray-100 mb-1">iOS / Safari ç‰¹åˆ«è¯´æ˜ï¼š</p>
                        <ul class="list-disc list-inside text-xs text-gray-600 dark:text-gray-400">
                            <li>å¯¼å‡ºåè¯·ç‚¹å‡»åˆ†äº« -> <b class="text-[#e4007f]">"å­˜å‚¨åˆ°æ–‡ä»¶"</b>ã€‚</li>
                            <li>å¾®ä¿¡è¯·å‘ç»™ <b class="text-[#e4007f]">"æ–‡ä»¶ä¼ è¾“åŠ©æ‰‹"</b> ä¿å­˜ã€‚</li>
                        </ul>
                    </div>

                    <p class="text-xs text-gray-400 pt-1">
                        å¦‚æœé‡åˆ°å¯¼å‡ºå¡ä½æˆ–å…¼å®¹æ€§é—®é¢˜ï¼Œæ¬¢è¿ <strong>åŠ ç¾¤åé¦ˆ</strong> æˆ–æäº¤ Issueï¼Œæˆ‘ä»¬ä¼šå°½å¿«ä¿®å¤ï¼
                    </p>
                </div>
              </div>
            </div>

            <div class="bg-gray-100 dark:bg-gray-800 p-3 rounded-lg text-xs">
              <span class="font-bold text-[#e4007f]">ğŸ’¡ å°è´´å£«ï¼š</span>
              å¦‚æœé‡åˆ°å›¾ç‰‡ç”Ÿæˆä¸å…¨ï¼Œè¯·å°è¯•é‡æ–°ç‚¹å‡»ä¿å­˜ã€‚iOS ç”¨æˆ·è¯·é•¿æŒ‰å¼¹å‡ºçš„å›¾ç‰‡ä¿å­˜ã€‚
            </div>

          </div>

          <!-- Footer -->
          <div class="text-center pt-4 border-t border-gray-100 dark:border-gray-800 shrink-0">
            <p class="text-xs text-gray-500">
              è§‰å¾—å¥½ç”¨çš„è¯ï¼Œå°±åˆ†äº«ç»™æœ‹å‹ä»¬ä¸€èµ·ç©å§ï¼
              <br>
              <a href="https://github.com/ywh555hhh/anime-role-grid" target="_blank" class="text-[#e4007f] hover:underline">GitHub è´¡çŒ®æ¨¡æ¿</a>
            </p>
          </div>

        </div>
      </div>
    </div>
  </Transition>
</template>

<style scoped>
@keyframes wobble-slow {
  0% { transform: rotate(-5deg); }
  50% { transform: rotate(5deg); }
  100% { transform: rotate(-5deg); }
}

.animate-wobble-slow {
  animation: wobble-slow 2s ease-in-out infinite;
  will-change: transform;
  transform: translateZ(0);
  backface-visibility: hidden;
}

/* Hide scrollbar for Chrome, Safari and Opera */
.scrollbar-hide::-webkit-scrollbar {
    display: none;
}

/* Hide scrollbar for IE, Edge and Firefox */
.scrollbar-hide {
    -ms-overflow-style: none;  /* IE and Edge */
    scrollbar-width: none;  /* Firefox */
}
</style>
